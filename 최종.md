## [ 개인 스터디 ] REST API 심층 탐구: 실시간 주문 처리 시스템

**일정**: 2025.11 ~ 2026.01

**기술 스택**: Django, Django REST Framework, Python, SQLite, Redis (Idempotency 저장소)

**참여 인원**: 2인 (김동현, 전대원)

**서비스**: 대규모 배달 플랫폼(QuickEats)의 주문 처리 마이크로서비스 - 동시성 문제와 데이터 정합성 이슈를 해결하는 RESTful API 설계 연구/구현

---

| 문제 | 해결 | 결과 | 도메인 |
|------|------|------|--------|
| 고객 취소와 레스토랑 접수가 동시 발생 시 Race Condition으로 데이터 불일치 발생 | ETag/If-Match 헤더 기반 낙관적 락(Optimistic Locking) 구현 | 412 Precondition Failed 응답으로 충돌 방지, 데이터 정합성 100% 확보 | 주문 |
| 네트워크 오류 시 결제 재시도로 인한 중복 결제 금융사고 위험 | Idempotency-Key 헤더 기반 멱등성 보장 미들웨어 개발 | 동일 키 재요청 시 저장된 응답 반환, 중복 처리 원천 차단 | 결제 |
| 단일 PUT 엔드포인트에 모든 상태 변경 로직이 집중되어 if-else 분기 비대화 | 행위 기반 리소스 설계로 7개의 독립적 엔드포인트 분리 (`/acceptance`, `/cancellation` 등) | 비즈니스 규칙 명확화, 행위자별 권한 검증 용이 | 주문 상태 |
| 주문 목록 조회 시 연관 데이터(레스토랑, 라이더) 조회를 위해 2N+1회 API 호출 발생 | `?include=restaurant,rider` 사이드로딩(Side-loading) 기능 구현 | API 호출 횟수 2N+1 → 1회로 감소, 응답 효율화 | 조회 |

---

**단순 구현 항목:**
- URI 경로 기반 API 버전 관리 체계 구축 (`/api/v1/`, `/api/v2/`)
- Black-box 테스트 코드 작성 (Race Condition 테스트, 멱등성 테스트)
- Django Admin 페이지를 활용한 주문 데이터 관리 시스템 구축

---

**기타 역량:**
- 스터디 자료를 바탕으로 이론을 실제 MVP 코드로 구현하여 문서화 주도
- V1 → V2 API 전환 전략 수립 및 하위 호환성 유지 방안 설계
